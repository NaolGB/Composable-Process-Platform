<div style="height: 20vh;">
    <svg #canvas xmlns="http://www.w3.org/2000/svg">
        <!-- rectangles -->
        <g *ngFor="let step of allStepsObject | keyvalue">
            <rect 
                [attr.width]="rectSize" 
                [attr.height]="rectSize" 
                [attr.x]="((canvasWidth/(numMaxColumns+1)) * (step.value.column))" 
                [attr.y]="((canvasHeight/(numMaxRows+1)) * (step.value.row))" 
                rx="5"
                fill="none"
                [attr.stroke]="allConnectedSteps.includes(step.key) ? 'black' : 'red'"
                stroke-width="2"
            >
            </rect>
            <!-- <text 
                [attr.x]="(canvasWidth/(numMaxColumns+1) * (step.value.column)) + (rectSize) + (rectSize/3)" 
                [attr.y]="(step.value.row+0.5) * (rectSize*1.25) + (rectSize/2)" 
                fill="black"
            >
                {{step.key}}
            </text> -->
        </g>
        <!-- transition lines -->
        <g *ngFor="let line of transitionLines | keyvalue">
            <polygon [attr.points]="getArrowHeadPoints(line.value)" fill="blue" />
            <line  
                [attr.x1]="((canvasWidth/(numMaxColumns+1)) * (line.value.fromColumn)) + (rectSize)" 
                [attr.y1]="((((canvasHeight/(numMaxRows+1)) * (line.value.fromRow))) + (rectSize/2))" 
                [attr.x2]="((canvasWidth/(numMaxColumns+1)) * (line.value.toColumn))" 
                [attr.y2]="((((canvasHeight/(numMaxRows+1)) * (line.value.toRow))) + (rectSize/2))" 
                stroke="black" 
                stroke-width="2" 
            />
        </g>
    </svg>
</div>
