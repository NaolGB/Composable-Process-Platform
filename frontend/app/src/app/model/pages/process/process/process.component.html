<!-- Select tabs -->
<div>
    <button (click)="selectTab(1)">Tab1</button>
    <button (click)="selectTab(2)">Tab2</button>
    <button (click)="selectTab(3)">Tab3</button>
    <button (click)="selectTab(4)">Tab4</button>
</div>

<!-- Tabs -->
<div>
    <!-- Tab 1/Generate Process -->
    <div *ngIf="selectedTab === 1">
        <!-- left section -->
        <div>
            <button (click)="addDocumentType()">+</button>
            <form [formGroup]="generateProcessForm" (ngSubmit)="onGenerateProcessSubmit()">
                <div formGroupName="nameAndSteps">
                    <input type="text" formControlName="name" placeholder="Name"/>
                    <input type="text" formControlName="steps" placeholder="All steps separated by comma"/>
                </div>
    
                <div formArrayName="documents">
                    <div *ngFor="let doc of documents.controls; let i=index" [formGroupName]="i">
                        <select formControlName="documentId">
                            <option *ngFor="let opt of documentTypeIds" [ngValue]="opt">
                                {{opt}}
                            </option>
                        </select>
                    </div>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>
        <!-- right section -->
        <div *ngFor="let processId of processTypeIds">
            <div (click)="selectProcess(processId)">{{processId}}</div>

        </div>
       
    </div>

    <!-- Tab 2 -->
    <div *ngIf="selectedTab === 2">
        <!-- left section -->
        <div>
            <div *ngFor="let step of allStepsList">
                <div (click)="selectStep(step)">
                    Step: {{step}} | next steps: 
                    <span *ngFor="let nextStep of allStepsObject[step]['next_steps'] | keyvalue">
                            {{nextStep.key}}
                    </span>
                </div>
            </div>
        </div>
        <!-- right section -->
        <div>
            <div *ngIf="selectedStepKey !== ''">
                Valid Next Steps
                <div *ngFor="let validNextStep of ValidNextSteps" (click)="addNextStep(validNextStep)">
                    {{validNextStep}}
                </div>
            </div>
        </div>
        <button [disabled]="unconnectedSteps.length !== 0" (click)="putProcess()">Continue</button>
    </div>

    <!-- Tab 3 -->
    <div *ngIf="selectedTab === 3">
        <!-- left section -->
        <div>
            tab 4
        </div>
        <!-- right section -->
        <div>
            
        </div>
    </div>

    <!-- Tab 4 -->
    <div *ngIf="selectedTab === 4">
        <!-- left section -->
        <div>
            tab 4
        </div>
        <!-- right section -->
        <div>
            
        </div>
    </div>
</div>

<!-- Preview Section -->
<div style=" max-height: 40vh; min-height: 400px; position: fixed; width: 100%; height: 100%; bottom: 0; left: 0; background-color: #e0e0e0;">
    <app-process-preview
        [allStepsObject]="allStepsObject"
    ></app-process-preview>
</div>